<mat-sidenav-container>
  <!-- drawer -->
  <mat-sidenav #sidenav>
    <!-- mode="side" opened="true" for desktop -->
    <mat-nav-list>
      <mat-list-item (click)="setCategory(null); sidenav.close()">
        <mat-icon matListIcon>list</mat-icon>
        <h3 matLine>All</h3>
      </mat-list-item>
      <a mat-list-item href="add/category">
        <mat-icon matListIcon>add</mat-icon>
        <h3 matLine>New category</h3>
      </a>

      <mat-divider *ngIf="categories.length"></mat-divider>
      <h3 matSubheader *ngIf="categories.length">Categories</h3>
      <mat-list-item *ngFor="let cat of categories" (click)="setCategory(cat); sidenav.close()">
        <mat-icon matListIcon>{{cat.icon}}</mat-icon>
        <h3 matLine>{{cat.name | titlecase}}</h3>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>

  <div class="container">
    <!-- toolbar -->
    <mat-toolbar color="primary">
      <mat-toolbar-row>
        <button mat-icon-button (click)="sidenav.open()">
          <mat-icon aria-label="Menu">menu</mat-icon>
        </button>
        <span>{{ app_name | titlecase }}</span>

        <span class="toolbar-divider"></span>

        <a mat-icon-button href="calendar/">
          <mat-icon aria-label="Calendar">event</mat-icon>
        </a>
        <a mat-icon-button href="stats/">
          <mat-icon aria-label="Stats">pie_chart</mat-icon>
        </a>
        <a mat-icon-button href="">
          <mat-icon aria-label="Export">import_export</mat-icon>
        </a>
      </mat-toolbar-row>

      <mat-toolbar-row chrono *ngIf="currentActivity">
        <h1>{{time | date:'HH:mm'}}<small>{{time | date:'ss'}}</small></h1>
      </mat-toolbar-row>

      <mat-toolbar-row *ngIf="currentActivity">
        {{currentActivity.name | titlecase}} <span class="toolbar-divider"></span>
        <button mat-icon-button class="toto" (click)="stopActivity()">
          <mat-icon>done</mat-icon>
        </button>
      </mat-toolbar-row>
    </mat-toolbar>

    <!-- list -->
    <mat-nav-list *ngIf="activities.length; else emptyCard">
      <mat-list-item *ngFor="let activity of activities">
        <span [ngClass]="activity.color" mat-list-icon></span>
        <h3 matLine>{{activity.name | titlecase}}</h3>
        <a href="activities/{{activity.name}}" matLine>
          {{activity.description |Â lowercase}}
        </a>
        <button mat-icon-button (click)="toogleActivity(activity)">
          <mat-icon>access_time</mat-icon>
        </button>
      </mat-list-item>
    </mat-nav-list>

    <!-- FAB -->
    <a mat-fab id="fab" href="add/activity">
      <mat-icon aria-label="Add activity">add</mat-icon>
    </a>
  </div>
</mat-sidenav-container>


<ng-template #emptyCard>
  <mat-card tabindex="0" id="emptyCard" color="accent">
    <mat-card-title color="primary">It seems empty !</mat-card-title>
    <mat-card-content>
      To begin, you must add a new activity. Try pressing the button below.
    </mat-card-content>
    <mat-card-actions>
      <a mat-button href="add/activity">
        NEW ACTIVITY
      </a>
    </mat-card-actions>
  </mat-card>
</ng-template>